# AIå¯¹è¯ç•Œé¢ - äº¤äº’æµç¨‹è®¾è®¡

## 1. å¯¹è¯ç•Œé¢æ¶æ„

### ç•Œé¢å¸ƒå±€
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¤– AIä¼šè®®åŠ©æ‰‹                    [ä¼ ç»Ÿè¡¨å•] [æ¸…ç©º] [å¸®åŠ©]    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  å¯¹è¯å†å²åŒºåŸŸ                                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ AI: æ‚¨å¥½ï¼æˆ‘æ˜¯ä¼šè®®åŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨é¢„çº¦ä¼šè®®ã€‚è¯·å‘Šè¯‰æˆ‘ â”‚   â”‚
â”‚  â”‚     æ‚¨çš„éœ€æ±‚ï¼Œæ¯”å¦‚ï¼š"æ˜å¤©ä¸‹åˆ2ç‚¹å¼€ä¸ª1å°æ—¶çš„é¡¹ç›®è¯„å®¡" â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ æ­£åœ¨è¾“å…¥...                                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                             â”‚
â”‚  è¾“å…¥åŒºåŸŸ                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚ â”‚ è¾“å…¥æ‚¨çš„éœ€æ±‚...                                   â”‚ â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚ â”‚  å‘é€  â”‚ â”‚ è¯­éŸ³   â”‚ â”‚ æ¨¡æ¿   â”‚ â”‚ è¡¨æƒ…   â”‚       â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. å¯¹è¯çŠ¶æ€ç®¡ç†

### çŠ¶æ€å®šä¹‰
```typescript
interface ChatState {
  messages: Message[];
  currentState: 'idle' | 'listening' | 'thinking' | 'responding' | 'error';
  context: ChatContext;
  slotFilling: SlotFillingState;
}

interface Message {
  id: string;
  role: 'user' | 'assistant' | 'system';
  content: string;
  timestamp: Date;
  type: 'text' | 'suggestion' | 'error' | 'success';
  metadata?: MessageMetadata;
}

interface ChatContext {
  userId: string;
  conversationId: string;
  currentIntent: string;
  filledSlots: Record<string, any>;
  pendingSlots: string[];
  alternatives: Alternative[];
}
```

## 3. å¤šè½®å¯¹è¯æµç¨‹

### 3.1 åˆå§‹çŠ¶æ€
```
ç”¨æˆ·: æ‰“å¼€AIé¢„çº¦
AI: æ‚¨å¥½ï¼æˆ‘æ˜¯ä¼šè®®åŠ©æ‰‹ï¼Œå¯ä»¥å¸®æ‚¨é¢„çº¦ä¼šè®®ã€‚è¯·å‘Šè¯‰æˆ‘æ‚¨çš„éœ€æ±‚ï¼Œ
    æ¯”å¦‚ï¼š"æ˜å¤©ä¸‹åˆ2ç‚¹å¼€ä¸ª1å°æ—¶çš„é¡¹ç›®è¯„å®¡"
```

### 3.2 ä¿¡æ¯æ”¶é›†æµç¨‹
```
ç”¨æˆ·: æ˜å¤©ä¸‹åˆ2ç‚¹éœ€è¦å¼€ä¸ªé¡¹ç›®è¯„å®¡ä¼šè®®ï¼Œå¤§æ¦‚10ä¸ªäººå‚åŠ 

AIå¤„ç†è¿‡ç¨‹:
1. æ„å›¾è¯†åˆ«: book_meeting
2. å®ä½“æå–: 
   - æ—¶é—´: æ˜å¤©14:00
   - ä¼šè®®ç±»å‹: é¡¹ç›®è¯„å®¡
   - äººæ•°: 10äºº
3. æ§½ä½çŠ¶æ€æ£€æŸ¥:
   âœ“ æ—¶é—´ (éƒ¨åˆ†)
   âœ“ ä¼šè®®ç±»å‹
   âœ“ äººæ•°
   âœ— æ—¶é•¿
   âœ— è®¾å¤‡éœ€æ±‚
   âœ— å‚ä¼šäººå‘˜

AIå›å¤:
"å¥½çš„ï¼æˆ‘æ¥å¸®æ‚¨å®‰æ’é¡¹ç›®è¯„å®¡ä¼šè®®ã€‚æˆ‘éœ€è¦äº†è§£ä¸€äº›è¯¦ç»†ä¿¡æ¯ï¼š
 â€¢ ä¼šè®®é¢„è®¡æ—¶é•¿ï¼Ÿ
 â€¢ æ˜¯å¦éœ€è¦æŠ•å½±è®¾å¤‡ï¼Ÿ
 â€¢ å‚ä¼šäººå‘˜å…·ä½“æœ‰å“ªäº›ï¼Ÿ"
```

### 3.3 å†²çªæ£€æµ‹ä¸æ›¿ä»£æ–¹æ¡ˆ
```
ç”¨æˆ·: æ—¶é•¿1å°æ—¶ï¼Œéœ€è¦æŠ•å½±ä»ª

AIå¤„ç†:
1. æ§½ä½æ›´æ–°:
   - æ—¶é•¿: 1å°æ—¶
   - è®¾å¤‡: æŠ•å½±ä»ª
2. å†²çªæ£€æµ‹:
   - æŸ¥è¯¢æ˜å¤©14:00-15:00å¯ç”¨ä¼šè®®å®¤
   - å‘ç°A101ã€B205å·²è¢«å ç”¨
3. ç”Ÿæˆæ›¿ä»£æ–¹æ¡ˆ:
   - 14:30-15:30 (A101ç©ºé—²)
   - 15:00-16:00 (B205ç©ºé—²)
   - åå¤©14:00-15:00 (å…¨éƒ¨ç©ºé—²)

AIå›å¤:
"æ£€æµ‹åˆ°æ—¶é—´å†²çªï¼Œæ¨èä»¥ä¸‹æ—¶é—´æ®µï¼š
 ğŸ• æ˜å¤©14:30-15:30 (æ¨è) - A101å¯ç”¨
 ğŸ• æ˜å¤©15:00-16:00 - B205å¯ç”¨  
 ğŸ• åå¤©14:00-15:00 - å¤šé—´å¯é€‰
æ‚¨å¸Œæœ›é€‰æ‹©å“ªä¸ªæ—¶é—´ï¼Ÿ"
```

## 4. æ¶ˆæ¯ç±»å‹è®¾è®¡

### 4.1 æ–‡æœ¬æ¶ˆæ¯
```typescript
const textMessage: Message = {
  id: 'msg_001',
  role: 'assistant',
  content: 'å¥½çš„ï¼æˆ‘æ¥å¸®æ‚¨å®‰æ’é¡¹ç›®è¯„å®¡ä¼šè®®ã€‚',
  timestamp: new Date(),
  type: 'text'
};
```

### 4.2 å»ºè®®æ¶ˆæ¯
```typescript
const suggestionMessage: Message = {
  id: 'msg_002', 
  role: 'assistant',
  content: 'æ£€æµ‹åˆ°æ—¶é—´å†²çªï¼Œæ¨èä»¥ä¸‹æ—¶é—´æ®µï¼š',
  timestamp: new Date(),
  type: 'suggestion',
  metadata: {
    suggestions: [
      { time: '14:30-15:30', room: 'A101', reason: 'æ¨è' },
      { time: '15:00-16:00', room: 'B205', reason: 'å¯é€‰' },
      { time: 'åå¤©14:00-15:00', room: 'å¤šé—´å¯é€‰', reason: 'å¤‡é€‰' }
    ]
  }
};
```

### 4.3 é”™è¯¯æ¶ˆæ¯
```typescript
const errorMessage: Message = {
  id: 'msg_003',
  role: 'assistant', 
  content: 'æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰ç†è§£æ‚¨çš„æ„æ€ã€‚è¯·é‡æ–°æè¿°æ‚¨çš„éœ€æ±‚ã€‚',
  timestamp: new Date(),
  type: 'error',
  metadata: {
    errorType: 'intent_not_recognized',
    helpText: 'æ‚¨å¯ä»¥è¿™æ ·è¯´ï¼š"æ˜å¤©ä¸‹åˆ2ç‚¹å¼€ä¸ª1å°æ—¶çš„é¡¹ç›®è¯„å®¡"'
  }
};
```

## 5. æ§½ä½å¡«å……ç­–ç•¥

### 5.1 æ§½ä½å®šä¹‰
```typescript
const meetingSlots = {
  required: ['title', 'time', 'duration', 'attendees'],
  optional: ['room', 'equipment', 'description', 'recurrence'],
  alternatives: ['alternative_times', 'alternative_rooms']
};
```

### 5.2 å¡«å……ç­–ç•¥
```typescript
class SlotFillingStrategy {
  // ä¸»åŠ¨è¯¢é—®ç¼ºå¤±ä¿¡æ¯
  askForMissingSlot(slot: string): string {
    const questions = {
      duration: 'ä¼šè®®é¢„è®¡æ—¶é•¿ï¼Ÿ',
      attendees: 'å‚ä¼šäººå‘˜å…·ä½“æœ‰å“ªäº›ï¼Ÿ',
      equipment: 'éœ€è¦ä»€ä¹ˆè®¾å¤‡å—ï¼Ÿï¼ˆæŠ•å½±ã€è§†é¢‘ç­‰ï¼‰',
      room: 'æœ‰ä¼šè®®å®¤åå¥½å—ï¼Ÿ'
    };
    return questions[slot] || 'è¯·æä¾›æ›´å¤šä¿¡æ¯';
  }

  // æ™ºèƒ½æ¨è
  suggestAlternatives(context: ChatContext): Alternative[] {
    // åŸºäºå†å²åå¥½ã€å¯ç”¨æ€§ç­‰æ¨è
    return this.generateSmartAlternatives(context);
  }

  // ä¿¡æ¯ç¡®è®¤
  confirmInformation(filledSlots: Record<string, any>): string {
    return `è¯·ç¡®è®¤ä¼šè®®ä¿¡æ¯ï¼š
            æ ‡é¢˜ï¼š${filledSlots.title}
            æ—¶é—´ï¼š${filledSlots.time}
            æ—¶é•¿ï¼š${filledSlots.duration}
            äººæ•°ï¼š${filledSlots.attendees.length}äºº`;
  }
}
```

## 6. æ™ºèƒ½æ¨èç®—æ³•

### 6.1 æ—¶é—´æ¨è
```typescript
class TimeRecommendationEngine {
  recommendTimes(request: TimeRequest): TimeSlot[] {
    const preferences = this.analyzePreferences(request);
    const availability = this.checkAvailability(request);
    const conflicts = this.detectConflicts(request);
    
    return this.generateRecommendations(preferences, availability, conflicts);
  }

  private analyzePreferences(request: TimeRequest): TimePreference {
    // åˆ†æç”¨æˆ·å†å²åå¥½
    // è€ƒè™‘å·¥ä½œæ—¶é—´æ®µã€ä¼šè®®æ—¶é•¿åå¥½ç­‰
    return {
      preferredHours: [9, 10, 14, 15, 16],
      durationFlexibility: 30, // åˆ†é’Ÿ
      dayFlexibility: 1 // å¤©
    };
  }
}
```

### 6.2 ä¼šè®®å®¤æ¨è
```typescript
class RoomRecommendationEngine {
  recommendRooms(request: RoomRequest): RoomOption[] {
    const requirements = this.analyzeRequirements(request);
    const availableRooms = this.getAvailableRooms(request.timeSlot);
    
    return this.rankRooms(requirements, availableRooms);
  }

  private rankRooms(requirements: RoomReq, rooms: Room[]): RoomOption[] {
    return rooms.map(room => ({
      ...room,
      score: this.calculateScore(room, requirements),
      reasons: this.generateReasons(room, requirements)
    })).sort((a, b) => b.score - a.score);
  }
}
```

## 7. å¼‚å¸¸å¤„ç†æµç¨‹

### 7.1 æ— æ³•ç†è§£ç”¨æˆ·æ„å›¾
```
ç”¨æˆ·: éšä¾¿æ¥ä¸ªä¼šè®®
AI: æŠ±æ­‰ï¼Œæˆ‘æ²¡æœ‰ç†è§£æ‚¨çš„å…·ä½“éœ€æ±‚ã€‚
    æ‚¨å¯ä»¥è¿™æ ·è¯´ï¼š"æ˜å¤©ä¸‹åˆ2ç‚¹å¼€ä¸ª1å°æ—¶çš„é¡¹ç›®è¯„å®¡"
    æˆ–è€…å‘Šè¯‰æˆ‘ï¼šä¼šè®®æ—¶é—´ã€å‚ä¸äººæ•°ã€ä¼šè®®ä¸»é¢˜
```

### 7.2 ç³»ç»Ÿé”™è¯¯å¤„ç†
```
ç”¨æˆ·: é¢„çº¦æ˜å¤©ä¸‹åˆçš„ä¼šè®®
AI: æŠ±æ­‰ï¼Œç³»ç»Ÿæš‚æ—¶æ— æ³•å¤„ç†æ‚¨çš„è¯·æ±‚ã€‚
    é”™è¯¯ä¿¡æ¯ï¼šæ•°æ®åº“è¿æ¥è¶…æ—¶
    å»ºè®®ï¼šæ‚¨å¯ä»¥ç¨åå†è¯•ï¼Œæˆ–åˆ‡æ¢åˆ°ä¼ ç»Ÿè¡¨å•é¢„çº¦
```

### 7.3 æƒé™æ£€æŸ¥å¤±è´¥
```
ç”¨æˆ·: é¢„çº¦å¤§ä¼šè®®å®¤
AI: æŠ±æ­‰ï¼Œæ‚¨å½“å‰æƒé™æ— æ³•é¢„çº¦å¤§å‹ä¼šè®®å®¤ã€‚
    æ‚¨çš„æƒé™ï¼šæ ‡å‡†å‘˜å·¥
    éœ€è¦æƒé™ï¼šéƒ¨é—¨ç»ç†æˆ–ä»¥ä¸Š
    å»ºè®®ï¼šè¯·è”ç³»æ‚¨çš„ä¸Šçº§ååŠ©é¢„çº¦
```

## 8. å®‰å…¨ä¸è¿‡æ»¤

### 8.1 è¾“å…¥è¿‡æ»¤
```typescript
class InputFilter {
  sanitizeInput(input: string): string {
    // ç§»é™¤æ½œåœ¨å±é™©å­—ç¬¦
    const sanitized = input
      .replace(/[<>]/g, '')
      .trim()
      .substring(0, 500); // é•¿åº¦é™åˆ¶
    
    return sanitized;
  }

  detectInjection(input: string): boolean {
    const patterns = [
      /system\s*:/i,
      /ignore\s*previous/i,
      /disregard\s*all/i,
      /bypass\s*security/i
    ];
    
    return patterns.some(pattern => pattern.test(input));
  }
}
```

### 8.2 æ•æ„Ÿä¿¡æ¯æ£€æµ‹
```typescript
class SensitiveDataDetector {
  detectSensitiveInfo(text: string): DetectionResult {
    const patterns = {
      phone: /\d{3}-\d{3}-\d{4}/g,
      email: /[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,
      ssn: /\d{3}-\d{2}-\d{4}/g,
      creditCard: /\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}/g
    };

    const findings = Object.entries(patterns)
      .map(([type, regex]) => ({
        type,
        matches: text.match(regex) || []
      }))
      .filter(result => result.matches.length > 0);

    return {
      hasSensitiveData: findings.length > 0,
      findings,
      sanitizedText: this.maskSensitiveData(text, findings)
    };
  }
}
```

## 9. ä¸Šä¸‹æ–‡åˆ‡æ¢è®¾è®¡

### 9.1 åˆ‡æ¢åˆ°ä¼ ç»Ÿè¡¨å•
```typescript
interface ContextSwitch {
  preserveContext(from: ChatContext): FormData {
    return {
      title: from.filledSlots.title,
      time: from.filledSlots.time,
      duration: from.filledSlots.duration,
      attendees: from.filledSlots.attendees,
      equipment: from.filledSlots.equipment,
      room: from.filledSlots.room,
      source: 'ai_chat'
    };
  }

  restoreContext(formData: FormData): Partial<ChatContext> {
    return {
      filledSlots: {
        title: formData.title,
        time: formData.time,
        duration: formData.duration,
        // ... å…¶ä»–å­—æ®µ
      },
      currentIntent: 'book_meeting',
      returnFromForm: true
    };
  }
}
```

### 9.2 åˆ‡æ¢ç¡®è®¤å¯¹è¯æ¡†
```
ç”¨æˆ·ç‚¹å‡»"åˆ‡æ¢åˆ°ä¼ ç»Ÿè¡¨å•"
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åˆ‡æ¢åˆ°ä¼ ç»Ÿè¡¨å•ï¼Ÿ                    â”‚
â”‚                                     â”‚
â”‚ å½“å‰å·²å¡«å†™ä¿¡æ¯å°†è¢«ä¿ç•™ï¼š            â”‚
â”‚ âœ“ ä¼šè®®æ—¶é—´ï¼šæ˜å¤©14:30-15:30         â”‚
â”‚ âœ“ ä¼šè®®æ—¶é•¿ï¼š1å°æ—¶                    â”‚
â”‚ âœ“ å‚ä¼šäººæ•°ï¼š10äºº                    â”‚
â”‚                                     â”‚
â”‚ [å–æ¶ˆ]            [ç¡®è®¤åˆ‡æ¢]        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 10. æ€§èƒ½ä¼˜åŒ–

### 10.1 æ¶ˆæ¯ç¼“å­˜
```typescript
class MessageCache {
  private cache = new Map<string, CachedMessage>();
  
  cacheMessage(message: Message): void {
    this.cache.set(message.id, {
      ...message,
      cachedAt: Date.now()
    });
  }

  getCachedMessage(id: string): Message | null {
    const cached = this.cache.get(id);
    if (cached && Date.now() - cached.cachedAt < 300000) { // 5åˆ†é’Ÿ
      return cached;
    }
    return null;
  }
}
```

### 10.2 æµå¼å“åº”
```typescript
class StreamingResponse {
  async *streamResponse(prompt: string): AsyncGenerator<string> {
    const response = await this.llmClient.streamChat(prompt);
    
    for await (const chunk of response) {
      yield chunk.content;
      // å®æ—¶æ›´æ–°UI
      this.updateUI(chunk.content);
    }
  }
}
```

## 11. ç”¨æˆ·å¼•å¯¼è®¾è®¡

### 11.1 é¦–æ¬¡ä½¿ç”¨å¼•å¯¼
```
ç¬¬1æ­¥ï¼šä»‹ç»åŠŸèƒ½
"æ¬¢è¿ä½¿ç”¨AIä¼šè®®åŠ©æ‰‹ï¼æˆ‘å¯ä»¥å¸®æ‚¨ï¼š
 â€¢ å¿«é€Ÿé¢„çº¦ä¼šè®®å®¤
 â€¢ æ™ºèƒ½æ¨èæ—¶é—´
 â€¢ æ£€æµ‹å†²çªå¹¶æä¾›æ›¿ä»£æ–¹æ¡ˆ"

ç¬¬2æ­¥ï¼šä½¿ç”¨ç¤ºä¾‹
"è¯•è¯•çœ‹è¿™æ ·è¯´ï¼š
 'æ˜å¤©ä¸‹åˆ2ç‚¹å¼€ä¸ª1å°æ—¶çš„é¡¹ç›®è¯„å®¡'"

ç¬¬3æ­¥ï¼šæç¤ºæŠ€å·§
"å°è´´å£«ï¼š
 â€¢ å°½é‡å…·ä½“æè¿°æ—¶é—´å’Œéœ€æ±‚
 â€¢ æˆ‘å¯ä»¥ç†è§£è‡ªç„¶è¯­è¨€
 â€¢ éšæ—¶å¯ä»¥åˆ‡æ¢åˆ°ä¼ ç»Ÿè¡¨å•"
```

### 11.2 å¸®åŠ©ç³»ç»Ÿ
```typescript
class HelpSystem {
  getHelp(topic?: string): HelpContent {
    const helpTopics = {
      'time-format': 'æ—¶é—´æ ¼å¼è¯´æ˜',
      'voice-input': 'è¯­éŸ³è¾“å…¥æŒ‡å—', 
      'slot-filling': 'å¦‚ä½•æä¾›å®Œæ•´ä¿¡æ¯',
      'alternatives': 'æ›¿ä»£æ–¹æ¡ˆè¯´æ˜'
    };

    return {
      title: helpTopics[topic] || 'ä½¿ç”¨å¸®åŠ©',
      content: this.generateHelpContent(topic),
      examples: this.getExamples(topic),
      relatedTopics: this.getRelatedTopics(topic)
    };
  }
}
```

## 12. æ— éšœç¢è®¾è®¡

### 12.1 é”®ç›˜å¯¼èˆª
```typescript
class KeyboardNavigation {
  setupKeyboardShortcuts(): void {
    document.addEventListener('keydown', (e) => {
      switch(e.key) {
        case 'Enter':
          if (e.ctrlKey) this.sendMessage();
          break;
        case 'Escape':
          this.cancelCurrentInput();
          break;
        case 'ArrowUp':
          this.navigateHistory('up');
          break;
        case 'ArrowDown':
          this.navigateHistory('down');
          break;
      }
    });
  }
}
```

### 12.2 å±å¹•é˜…è¯»å™¨æ”¯æŒ
```typescript
class ScreenReaderSupport {
  announceToScreenReader(message: string): void {
    const announcement = document.createElement('div');
    announcement.setAttribute('aria-live', 'polite');
    announcement.setAttribute('aria-atomic', 'true');
    announcement.className = 'sr-only';
    announcement.textContent = message;
    
    document.body.appendChild(announcement);
    setTimeout(() => announcement.remove(), 1000);
  }
}
```

---

*è¿™ä»½AIå¯¹è¯ç•Œé¢äº¤äº’æµç¨‹è®¾è®¡ç¡®ä¿äº†ç”¨æˆ·èƒ½å¤Ÿè‡ªç„¶ã€é«˜æ•ˆåœ°å®Œæˆä¼šè®®é¢„çº¦ï¼ŒåŒæ—¶æä¾›äº†ä¸°å¯Œçš„æ™ºèƒ½è¾…åŠ©å’Œå¼‚å¸¸å¤„ç†èƒ½åŠ›*